\documentclass{article}
\usepackage[dvipsnames]{xcolor}

\include{data/settings}

\usepackage[utf8]{inputenc}
\usepackage[\resumeLanguage]{babel}
\usepackage{titlesec}
\usepackage{titling}
\usepackage{enumitem}
\usepackage{ifthen}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{marvosym}
\usepackage{amssymb}

%%% Font stuff %%%
%% Name of the font
\usepackage{charter}

%% Uncomment to use the T1 encoding.
%% This leads to a smaller PDF file size, but some special characters
%% will have to be written differently (e.g. {\ss} for the German Eszett).
\usepackage[T1]{fontenc}

%% Uncomment the following line to use a sans-serif font
%\renewcommand{\familydefault}{\sfdefault}

% Formatting of hyperlinks
\hypersetup{
	% Set colorlinks=false to display colored boxes around links instead.
	colorlinks=\useColoredLinks,
	linkcolor=\urlColor,
	linkbordercolor=\urlFrameColor,
	urlcolor=\urlColor,
	urlbordercolor=\urlFrameColor,
	pdfborder={1 1 \urlFrameWidth},
	pdflinkmargin=\urlFrameMargin,
	pdfpagemode=FullScreen,
}

% Definition of the page layout
\usepackage{geometry}
\geometry{
	a4paper,
	left=1in,
	right=1in,
	top=0.7in,
	bottom=1in,
}

% Turn off page numbers
\pagenumbering{gobble}

% Formatting of section titles
\titleformat{\section}{\Large\bfseries\scshape\color{\bigTitleColor}}{}{0em}{}[\color{\titleLineColor}\titlerule]
\titleformat{\subsection}{\bfseries\Large}{}{0em}{}
\titleformat{\subsubsection}[runin]{\bfseries}{}{0em}{}

% Configuration of the main header (name and contact info)
\renewcommand{\maketitle} {
	\begin{center}
		{\textcolor{\nameColor}{\Huge\bfseries\theauthor}} \\
		\ifthenelse{\equal{\resumeAddress}{}}{}{
			\resumeAddress\\
		}
		\href{mailto:\resumeEmail}{\textcolor{\headerSymbolColor}{\Letter\ }\resumeEmail}\\
		\href{tel:\resumePhone}{\textcolor{\headerSymbolColor}{\Telefon\ }\resumePhonePrint}\\
		\ifthenelse{\equal{\resumeWebsite}{}}{}{
			\href{\resumeWebsite}{\textcolor{\headerSymbolColor}{\Coffeecup\ }\resumeWebsitePrint}
			\vspace{.25em}
		}
	\end{center}
}

% Layout for the subsection lists
\newenvironment{resumeList}[5]{
	% The first title line
	\ifthenelse{\equal{#1}{}}
	{
		\vspace{0.5em}%
	}{
		\noindent\textcolor{\smallTitleColor}{\large\textbf{#1}} \textcolor{\topItalicsColor}{#2} \hfill {#3}%
	}

	% The second title line
	% (Only printed if argument 4 and/or 5 are non-empty)
	\ifthenelse{\equal{#4}{} \and \equal{#5}{}}{}{
		\noindent\textcolor{\bottomItalicsColor}{\textit{#4} \hfill \textit{#5}} % Italic job title and location
	}
	% The list itself
	\begin{list}{\raisebox{0.45ex}{\large$\centerdot$}}{\leftmargin=1.5em\rightmargin=11em} % \cdot used for bullets, no indentation
		\itemsep 0em \vspace{-0.25em} % Compress items in list together for aesthetics
	}{
	\end{list}
	\vspace{0.5em} % Some space after the list of bullet points
}


% #1: Location
% #2: Date (default: today)
% #3: Move the signature upwards
% #4: Move the signature to the right
\newcommand\resumesignature[4]{
	\noindent
	\begin{minipage}{6cm}
		\ifthenelse{\equal{#4}{}}{}{\hspace*{#4}}
		\ifthenelse{\equal{\signaturePicture}{}}
		{
			\vspace{\signatureHeight}
		}{
			\includegraphics[height=\signatureHeight]{\signaturePicture}
		}
		\noindent\vspace{-1cm}\par
		\ifthenelse{\equal{#3}{}}{}{\noindent\vspace{#3}\par}
		\noindent\textcolor{\signatureLineColor}{\rule{6cm}{0.5pt}}\par
		\noindent\vspace{-1em}\par
		\noindent \: #1 \ifthenelse{\equal{#2}{}}{\today}{#2}
	\end{minipage}
}

\author{\resumeName}

\color{\defaultTextColor}
\begin{document}
	
	\ifthenelse{\equal{\mainPicture}{}}{
		\maketitle
	}{
		\begin{minipage}{\mainPictureWidth}
			{
				\color{\photoBorderColor}
				\setlength{\fboxsep}{0pt}
				\setlength{\fboxrule}{0.5pt}
				\fbox{\includegraphics[width=\textwidth]{\mainPicture}}
				\color{\defaultTextColor}
			}
		\end{minipage}
		\begin{minipage}{.73\textwidth}
			\maketitle
		\end{minipage}
	}
	
	\input{data/sections}
	
	\ifdefined\includeSignature{
		\hfill\resumesignature{\signatureCity,}{\signatureDate}{\signatureShiftUp}{\signatureShiftRight}
	}
	\else\fi
	
\end{document}
